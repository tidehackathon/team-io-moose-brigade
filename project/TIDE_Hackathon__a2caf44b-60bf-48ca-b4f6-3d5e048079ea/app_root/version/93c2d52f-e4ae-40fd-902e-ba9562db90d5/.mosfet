{
  "projectId": "a2caf44b-60bf-48ca-b4f6-3d5e048079ea",
  "rdbmsId": "93c2d52f-e4ae-40fd-902e-ba9562db90d5",
  "insightName": "NDPP Strategic Alliance",
  "layout": "",
  "global": true,
  "cacheable": true,
  "cacheMinutes": -1,
  "cacheCron": "",
  "cacheEncrypt": false,
  "schemaName": "NDPP_Strategic_Alliance",
  "recipe": [
    "AddSheet(\"0\");",
    "SetSheetState({\"sheetId\":\"0\",\"sheetLabel\":\"Sheet1\",\"backgroundColor\":null,\"hideHeaders\":null,\"hideBorders\":null,\"height\":null,\"width\":null,\"borderSize\":2,\"gutterSize\":2});",
    "AddPanel(panel\u003d[\"2\"], sheet\u003d[\"0\"]);",
    "SetPanelState(\"\u003cencode\u003e{\"panelId\":\"2\",\"panelLabel\":null,\"sheetId\":\"0\",\"view\":\"visualization\",\"viewOptions\":\"{\\\"type\\\":\\\"echarts\\\"}\",\"renderedViewOptions\":null,\"numCollect\":2000,\"dynamicVars\":[],\"viewOptionsMap\":{\"visualization\":{\"type\":\"echarts\"}},\"config\":{\"type\":\"golden\"},\"ornaments\":{\"tools\":{\"shared\":{\"columnProperties\":{\"area\":509,\"\":77,\"ndpp\":533}}}},\"events\":{\"onSingleClick\":{\"Unfilter\":[{\"disabledVisuals\":[\"Grid\",\"Sunburst\"],\"default\":true,\"query\":\"(\u003cFrame\u003e | UnfilterFrame(\u003cSelectedColumn\u003e));\",\"options\":{},\"refresh\":false,\"disabled\":false,\"panel\":\"\"}]},\"onBrush\":{\"Filter\":[{\"default\":true,\"query\":\"if((IsEmpty(\u003cSelectedValues\u003e)),(\u003cFrame\u003e | UnfilterFrame(\u003cSelectedColumn\u003e)), (\u003cFrame\u003e | SetFrameFilter(\u003cSelectedColumn\u003e\u003d\u003d\u003cSelectedValues\u003e)));\",\"options\":{},\"refresh\":false,\"disabled\":false,\"panel\":\"\"}]}},\"comments\":{},\"filters\":[],\"order\":[],\"cbv\":[],\"lastQs\":{\"qsType\":\"FRAME\",\"frameName\":\"result\",\"frameType\":\"R\",\"isDistinct\":true,\"overrideImplicit\":false,\"limit\":2000,\"offset\":0,\"queryAll\":false,\"selectors\":[{\"type\":\"COLUMN\",\"content\":{\"table\":\"match\",\"column\":\"PRIM_KEY_PLACEHOLDER\",\"alias\":\"match\",\"tableAlias\":null}},{\"type\":\"COLUMN\",\"content\":{\"table\":\"area\",\"column\":\"PRIM_KEY_PLACEHOLDER\",\"alias\":\"area\",\"tableAlias\":null}},{\"type\":\"COLUMN\",\"content\":{\"table\":\"ndpp\",\"column\":\"PRIM_KEY_PLACEHOLDER\",\"alias\":\"ndpp\",\"tableAlias\":null}}],\"withPanels\":[\"2\"]},\"lastQueryStructMap\":{\"0\":{\"qsType\":\"FRAME\",\"frameName\":\"result\",\"frameType\":\"R\",\"isDistinct\":true,\"overrideImplicit\":false,\"limit\":2000,\"offset\":0,\"queryAll\":false,\"selectors\":[{\"type\":\"COLUMN\",\"content\":{\"table\":\"match\",\"column\":\"PRIM_KEY_PLACEHOLDER\",\"alias\":\"match\",\"tableAlias\":null}},{\"type\":\"COLUMN\",\"content\":{\"table\":\"area\",\"column\":\"PRIM_KEY_PLACEHOLDER\",\"alias\":\"area\",\"tableAlias\":null}},{\"type\":\"COLUMN\",\"content\":{\"table\":\"ndpp\",\"column\":\"PRIM_KEY_PLACEHOLDER\",\"alias\":\"ndpp\",\"tableAlias\":null}}],\"withPanels\":[\"2\"]}},\"lastTaskOptions\":{\"options\":{\"2\":{\"layout\":\"Grid\",\"alignment\":{\"label\":[\"match\",\"area\",\"ndpp\"]},\"layer\":{\"addYAxis\":true,\"addXAxis\":true,\"name\":\"Layer 0\",\"z\":2,\"id\":\"0\",\"base\":true}}},\"ornament\":false},\"lastTaskOptionsMap\":{\"0\":{\"options\":{\"2\":{\"layout\":\"Grid\",\"alignment\":{\"label\":[\"match\",\"area\",\"ndpp\"]},\"layer\":{\"addYAxis\":true,\"addXAxis\":true,\"name\":\"Layer 0\",\"z\":2,\"id\":\"0\",\"base\":true}}},\"ornament\":false}},\"lastFormatter\":{\"type\":\"TABLE\",\"options\":null},\"lastFormatterMap\":{\"0\":{\"type\":\"TABLE\",\"options\":null}}}\u003c/encode\u003e\");",
    "Database ( database \u003d [ \"666faa3d-ec1a-4109-8889-8b7e17470ccf\" ] ) | Select ( ndpp_capabilities__code , ndpp_capabilities__description , ndpp_capabilities__id , ndpp_capabilities__operational_area ) .as ( [ code , description , id , operational_area ] ) | Distinct ( false ) | Import ( frame \u003d [ CreateFrame ( frameType \u003d [ R ] , override \u003d [ true ] ) .as ( [ \"ndpp\" ] ) ] ) ;",
    "Database ( database \u003d [ \"666faa3d-ec1a-4109-8889-8b7e17470ccf\" ] ) | Select ( focus_areas__id , focus_areas__is_operational_domain , focus_areas__name ) .as ( [ id , is_operational_domain , name ] ) | Distinct ( false ) | Import ( frame \u003d [ CreateFrame ( frameType \u003d [ R ] , override \u003d [ true ] ) .as ( [ \"areas\" ] ) ] ) ;",
    "R ( \"\u003cencode\u003elibrary(data.table);\nlibrary(stringdist);\n\ncol1 \u003d ndpp$description;\ncol2 \u003d areas$name;\nd \u003d stringdistmatrix(col1,col2,method\u003d\u0027cos\u0027,p\u003d0.1);\n\nresult \u003d data.table(ndpp\u003dcharacter(), area\u003dcharacter(), match\u003dnumeric());\nfor(row in 1:nrow(d)){\n\tthisrow \u003d d[row,];\n\tresult\u003drbind(result, list(col1[row], col2[which.min(thisrow)], thisrow[which.min(thisrow)]));\n}\u003c/encode\u003e\" ) ;",
    "GenerateFrameFromRVariable ( \"result\" ) ;",
    "Frame ( frame \u003d [ result ] ) | Select ( match , area , ndpp ) .as ( [ match , area , ndpp ] ) | With ( Panel ( 2 ) ) | Format ( type \u003d [ \u0027table\u0027 ] ) | TaskOptions ( { \"2\" : { \"layout\" : \"Grid\" , \"alignment\" : { \"label\" : [ \"match\" , \"area\" , \"ndpp\" ] } , \"layer\" : { \"id\" : \"0\" , \"name\" : \"Layer 0\" , \"addYAxis\" : true , \"addXAxis\" : true , \"z\" : 2 , \"base\" : true } } } ) | Collect ( 2000 ) ;",
    "META | PositionInsightRecipe({} , {} , {} , {} , {\"auto\":false,\"top\":24.0,\"left\":24.0} , {\"auto\":false,\"top\":205.0,\"left\":63.0} , {} , {} , {});",
    "META | SetInsightConfig({\"presentation\":true,\"sheets\":{\"0\":{\"backgroundColor\":\"#FFFFFF\",\"golden\":{\"content\":[{\"activeItemIndex\":0,\"width\":100,\"type\":\"stack\",\"content\":[{\"componentState\":{\"panelId\":\"2\"},\"componentName\":\"panel\",\"type\":\"component\"}]}]},\"order\":0}},\"panels\":{\"2\":{\"config\":{\"backgroundColor\":\"#FFFFFF\",\"type\":\"golden\",\"opacity\":100}}},\"sheet\":\"0\"});",
    "ReadInsightTheme();"
  ]
}